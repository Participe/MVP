{% extends 'challenge_base.html' %}
{% load i18n %}

{% block title %}{% trans "Create challenge" %} - {{ block.super }}{% endblock %}

{% block extra_content %}
    <style type="text/css">
        ul li {list-style: none;}
    </style>
    
    <form enctype="multipart/form-data" action="." class="well" method="post">{% csrf_token %}
        <div class="row">
            <div class="span12">
                <div class="row">
                    <div class="span4">
                        <div class="input">{% trans "Avatar:" %} {{ form.avatar }}</div>
                        <div {% if form.name.errors %}class="control-group error"{% else %}class="input"{% endif %}>{{ form.name }}{{ form.name.errors }}</div> 
                        <div {% if form.description.errors %}class="control-group error"{% else %}class="input"{% endif %}>{{ form.description }}</div> 
                        <div {% if form.location.errors %}class="control-group error"{% else %}class="input"{% endif %}>{{ form.location }}</div> 
                        <div {% if form.duration.errors %}class="control-group error"{% else %}class="input"{% endif %}>{% trans "Duration" %} {{ form.duration }} {% trans "hours" %}</div> 
                        <div {% if form.organization.errors %}class="control-group error"{% else %}class="input"{% endif %}>{% trans "Affiliate with organization" %} {% if not form.organization.is_hidden %}{{ form.organization }}{{ form.organization.errors }}{% endif %}</div>
                        <div class="input">{% trans "or" %} <a class="btn" href="/organizations/create/">{% trans "Create new organization" %}</a></div> 
                        <div class="input">{% trans "Number of participants:" %}</div> 
                        <div class="input">{% trans "Minimum" %} {{ form.min_participants }} {% trans "Maximum" %} {{ form.max_participants }}</div> 
                    </div>
                    <div class="span4">
                        {{ form.contact.errors }}
                        <div class="input">{% trans "Contact person:" %}</div>
                        <div class="input"><input type="radio" name="contact" value="me" />{{ user.get_full_name }} ({{ user.username }})</div> 
                        <div class="input"><input type="radio" name="contact" value="he" />{% trans "Affiliate different person" %}</div> 
                        <div {% if form.alt_person_fullname.errors %}class="control-group error"{% else %}class="input"{% endif %}>{{ form.alt_person_fullname }}{{ form.alt_person_fullname.errors }}</div> 
                        <div {% if form.alt_person_email.errors %}class="control-group error"{% else %}class="input"{% endif %}>{{ form.alt_person_email }}{{ form.alt_person_email.errors }}</div> 
                        <div {% if form.alt_person_phone.errors %}class="control-group error"{% else %}class="input"{% endif %}>{{ form.alt_person_phone }}{{ form.alt_person_phone.errors }}</div> 
                        <div {% if form.start_date.errors or form.start_time.errors %}class="control-group error"{% else %}class="input"{% endif %}>{% trans "Start date" %} {{ form.start_date }}{{ form.start_date.errors }} {% trans "Time" %} {{ form.start_time }}{{ form.start_time.errors }}</div>
                        <div {% if form.alt_date.errors or form.alt_time.errors %}class="control-group error"{% else %}class="input"{% endif %}>{% trans "Alternative date" %} {{ form.alt_date }} {% trans "Time" %} {{ form.alt_time }}</div> 
                        <div {% if form.application.errors %}class="text-error"{% else %}class="input"{% endif %}>{% trans "Application" %} {{ form.application }}</div> 
                        <div {% if form.latest_signup.errors %}class="text-error"{% else %}class="input"{% endif %}>{% trans "Latest sign-up" %} {{ form.latest_signup }}</div> 
                    </div>                    
                    <div class="span2">
                        <p>{% trans "Goodies/Give-aways" %}</p>
                    </div>         
                </div>   
                <input type="submit" class="btn-primary" value="{% trans 'Create this challenge' %}" />
            </div>        
        </div>     
    </form>
{% endblock %}
